:javascript
  function copyToClipboard(text) {
    navigator.clipboard.writeText(text).then(function() {
      // Optional: Show a brief success message
      const button = event.target.closest('.copy-button');
      const originalIcon = button.innerHTML;
      button.innerHTML = '<i class="fas fa-check"></i>';
      setTimeout(() => {
        button.innerHTML = originalIcon;
      }, 1000);
    }).catch(function(err) {
      console.error('Could not copy text: ', err);
    });
  }

.topics
  %p{style: "color: green"}= notice

  .page-header-row
    %h1.topic-title= @topic.name
    - if can?(:manage, @topic)
      .header-actions
        = button_to "Edit", edit_socratic_seminar_topic_path(@socratic_seminar, @topic), method: :get, class: "button"
        = button_to "Delete", socratic_seminar_topic_path(@socratic_seminar, @topic),
          method: :delete,
          class: "button button-danger",
          data: { confirm: "Are you sure you want to delete this topic?" }

  - if @topic.link.present?
    .topic-link-row
      = link_to @topic.link, sanitize_url(@topic.link), target: "_blank", rel: "noopener", class: "topic-link-show" if sanitize_url(@topic.link).present?

  - if @topic.lnurl
    .vote-using-lnurl
      Vote using
      = link_to "LNURLPay.com/#{@topic.lnurl}", "https://www.lnurlpay.com/#{@topic.lnurl}", target: "_blank"
    .or-text Or
    .copy-lnurl
      %button.copy-button{onclick: "copyToClipboard('#{@topic.lnurl}')", title: "Copy LNURL"}
        Copy
        %i.fas.fa-copy
      the
      %strong LNURL
      and paste it into a lightning wallet to generate an invoice.

      .lnurl-text= @topic.lnurl

  .current-status
    .current-status-title Current Votes & Payments:
    .sats-received-row
      Votes: #{@topic.votes || 0}
    .sats-received-row
      Individual Payments: #{@topic.completed_payments_count}

    .sats-received-row
      Sats Received:
      %i.fak.fa-satoshisymbol-solid
        = @topic.sats_received

  .back-to-topic-list
    = link_to '<- Back To Topics', socratic_seminar_topics_path(@topic.socratic_seminar)

  - if @topic.lnurl
    = image_tag "https://api.qrserver.com/v1/create-qr-code/?size=200x200&data=#{CGI.escape(@topic.lnurl)}"
    %br
